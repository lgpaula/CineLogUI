<UserControl x:Class="CineLog.Views.CollectionView"
	xmlns="https://github.com/avaloniaui"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

	<Grid ColumnDefinitions="*, Auto">
		<!-- Left: Collection and Filters -->
		<ScrollViewer Grid.Column="0" x:Name="CollectionScrollViewer">
			<StackPanel>
				<Expander VerticalAlignment="Top" HorizontalAlignment="Stretch">
					<Expander.Header>
							<TextBlock Text="Filter" FontSize="20"/>
					</Expander.Header>
					<Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto" ColumnDefinitions="150,*">
						
						<!-- Rating -->
						<TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center">Rating</TextBlock>
						<StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="5">
							<TextBlock Text="From" Foreground="White"/>
							<TextBox x:Name="MinRating" Width="50" Text="0.0" Foreground="Black" Background="White"/>
							<TextBlock Text="To" Foreground="White"/>
							<TextBox x:Name="MaxRating" Width="50" Text="10.0" Foreground="Black" Background="White"/>
						</StackPanel>
						<Rectangle Grid.Row="1" Grid.ColumnSpan="2" Height="1" Fill="Gray" Margin="0,5"/>

						<!-- Genre -->
						<TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center">Genre</TextBlock>
						<ScrollViewer Grid.Row="2" Grid.Column="1" VerticalScrollBarVisibility="Auto" MaxHeight="200">
							<WrapPanel x:Name="GenresPanel" Orientation="Horizontal"/>
						</ScrollViewer>
						<Rectangle Grid.Row="3" Grid.ColumnSpan="2" Height="1" Fill="Gray" Margin="0,5"/>

						<!-- Year -->
						<TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Center">Year release</TextBlock>
						<StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal" Spacing="5">
							<TextBlock Text="From" Foreground="White"/>
							<TextBox x:Name="YearStart" Width="50" Text="" Foreground="Black" Background="White"/>
							<TextBlock Text="To" Foreground="White"/>
							<TextBox x:Name="YearEnd" Width="50" Text="" Foreground="Black" Background="White"/>
						</StackPanel>
						<Rectangle Grid.Row="5" Grid.ColumnSpan="2" Height="1" Fill="Gray" Margin="0,5"/>

						<!-- Company -->
						<TextBlock Grid.Row="6" Grid.Column="0" VerticalAlignment="Center">Company</TextBlock>
						<ScrollViewer Grid.Row="6" Grid.Column="1" VerticalScrollBarVisibility="Auto" MaxHeight="200">
							<WrapPanel x:Name="CompaniesPanel" Orientation="Horizontal"/>
						</ScrollViewer>
						<Rectangle Grid.Row="7" Grid.ColumnSpan="2" Height="1" Fill="Gray" Margin="0,5"/>

						<!-- Type -->
						<TextBlock Grid.Row="8" Grid.Column="0" VerticalAlignment="Center">Type</TextBlock>
						<WrapPanel x:Name="TitleTypePanel" Grid.Row="8" Grid.Column="1" Orientation="Horizontal">
							<CheckBox Content="Movie" Tag="Movie"/>
							<CheckBox Content="Series" Tag="TV Series"/>
						</WrapPanel>
						<Rectangle Grid.Row="9" Grid.ColumnSpan="2" Height="1" Fill="Gray" Margin="0,5"/>

						<!-- Button -->
						<Button Grid.Row="10" Grid.Column="0" Click="ApplyFilter" Content="Apply" HorizontalAlignment="Left" Margin="0,10,10,0"/>

					</Grid>
				</Expander>
				
				<WrapPanel Name="CollectionWrapPanel" Orientation="Horizontal"/>
			</StackPanel>
		</ScrollViewer>

		<!-- Right: Drawer-style info panel -->
		<Border Grid.Column="1" x:Name="DetailsBorder" Background="Transparent" Width="400" 
				IsVisible="false"
				BorderBrush="White" BorderThickness="1" CornerRadius="20" Margin="10" Padding="0">
			<Grid>

				<!-- Gradient overlay -->
				<Border x:Name="GradientOverlay" CornerRadius="20">
					<Border.Background>
						<LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
							<GradientStop Color="#00000000" Offset="0"/>
							<GradientStop Color="#C8000000" Offset="1"/>
						</LinearGradientBrush>
					</Border.Background>
				</Border>

				<!-- Content on top -->
				<ScrollViewer Margin="10">
					<StackPanel x:Name="DetailsPanel">
						<Grid RowDefinitions="*" ColumnDefinitions="Auto,*,Auto">
							<Button Grid.Column="0" x:Name="Calendar" Content="Calendar" Click="AddToCalendar" HorizontalAlignment="Left" VerticalAlignment="Top"/>
							<TextBlock Grid.Column="1" x:Name="TitleText" FontSize="24" Foreground="White" TextWrapping="Wrap" HorizontalAlignment="Center"/>
							<Button Grid.Column="2" Content="Close" Click="CloseDetails" HorizontalAlignment="Right" VerticalAlignment="Top"/>
						</Grid>
						<Separator Margin="0,10"/>
						<TextBlock x:Name="BasicInfo" Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,10"/>
						<TextBlock x:Name="DescriptionText" Foreground="White" TextWrapping="Wrap" Margin="0,0,0,10"/>
						<StackPanel>
							<TextBlock x:Name="GenresText" Foreground="White" Background="Transparent" Margin="0,0,0,5" Opacity="0.5">GENRES</TextBlock>
							<WrapPanel x:Name="GenresButtons" Margin="0,0,0,10"/>
						</StackPanel>
						<StackPanel>
							<TextBlock x:Name="CastText" Foreground="White" Background="Transparent" Margin="0,0,0,5" Opacity="0.5">CAST</TextBlock>
							<WrapPanel x:Name="CastButtons" Margin="0,0,0,10"/>
						</StackPanel>
						<StackPanel>
							<TextBlock x:Name="WritersText" Foreground="White" Background="Transparent" Margin="0,0,0,5" Opacity="0.5">WRITERS</TextBlock>
							<WrapPanel x:Name="WritersButtons" Margin="0,0,0,10"/>
						</StackPanel>
						<StackPanel>
							<TextBlock x:Name="DirectorsText" Foreground="White" Background="Transparent" Margin="0,0,0,5" Opacity="0.5">DIRECTORS</TextBlock>
							<WrapPanel x:Name="DirectorsButtons" Margin="0,0,0,10"/>
						</StackPanel>
						<StackPanel>
							<TextBlock x:Name="CreatorsText" Foreground="White" Background="Transparent" Margin="0,0,0,5" Opacity="0.5">CREATORS</TextBlock>
							<WrapPanel x:Name="CreatorsButtons" Margin="0,0,0,10"/>
						</StackPanel>
						<StackPanel>
							<TextBlock x:Name="ProductionText" Foreground="White" Background="Transparent" Margin="0,0,0,5" Opacity="0.5">PRODUCTION</TextBlock>
							<WrapPanel x:Name="ProductionButtons"/>
						</StackPanel>
					</StackPanel>
				</ScrollViewer>
			</Grid>
		</Border>
	</Grid>
</UserControl>